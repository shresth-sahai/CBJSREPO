<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Movie Finder</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #111;
      color: white;
    }
    input, button {
      padding: 8px;
      margin: 5px;
      border: 1px solid #444;
      border-radius: 4px;
      background: #222;
      color: white;
    }
    button {
      background: #e50914;
      cursor: pointer;
    }
    .grid {
      display: grid;
   
      gap: 15px;
      margin-top: 20px;
    }
    .card {
      background: #222;
      padding: 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    .card img {
      width: 100%;
      height: 200px;
      border-radius: 4px;
    }
    .hidden { display: none; }
    .detail {
      margin-top: 20px;
      padding: 15px;
      background: #222;
      border-radius: 4px;
    }
    .detail img {
      width: 100px;
      margin-right: 15px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>Movie Finder</h1>
  <input type="text" id="search" placeholder="Search movie..." />
  <button onclick="search()">Search</button>

  <div id="results" class="grid"></div>
  <div id="detail" class="detail hidden"></div>

  <script>
    const API_KEY = '5cf0a03e'; 

    async function search() {
      const query = document.getElementById('search').value.trim();
      if (!query) return;
      
      const res = await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${encodeURIComponent(query)}`);
      const data = await res.json();
      console.log(data)
      
      const results = document.getElementById('results');
      const detail = document.getElementById('detail');
      detail.classList.add('hidden');
      
      if (data.Response === 'True') {
        results.innerHTML = data.Search.map(movie => `
          <div class="card" onclick="showDetail('${movie.imdbID}')">
            <img src="${movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/150'}" />
            <h3>${movie.Title}</h3>
            <p>${movie.Year}</p>
          </div>
        `).join('');
      } else {
        results.innerHTML = `<p>${data.Error}</p>`;
      }
    }

    async function showDetail(id) {
      const res = await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&i=${id}`);
      
      const movie = await res.json();
      
      const poster = movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/150';
      document.getElementById('detail').innerHTML = `
        <img src="${poster}" />
        <h2>${movie.Title} (${movie.Year})</h2>
        <p><strong>Genre:</strong> ${movie.Genre}</p>
        <p><strong>Director:</strong> ${movie.Director}</p>
        <p><strong>Plot:</strong> ${movie.Plot}</p>
        <p><strong>IMDb:</strong> ${movie.imdbRating || 'N/A'}</p>
      `;
      document.getElementById('detail').classList.remove('hidden');
      document.getElementById('results').classList.add('hidden');
    }

    document.getElementById('search').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') search();
    });
  </script>
</body>
</html>