<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie App</title>
    <style>
        body{
            font-family:sans-serif ;  
            max-width: 1200px;
            margin: 100;
            padding: 30px;
            background: #111;
            color: white;     
         }
         input,button{
            padding: 8px;
            margin: 5px;
            border-radius:  5px;
            border: 1px solid #444 ;
            background: #222;
            color: white;
         }
         button{
            background: #e50914;
            cursor: pointer;
         }
         .grid{
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
         }
         .card{
            background: #222;
            padding: 20px;
            border-radius: 4px;
            cursor: pointer;
         }
         .card img{
            width: 100%;
            height: 200px;
            border-radius: 4px;
         }
         .hidden{
            display: none;
         }
         .detail{
            margin-top:20px;
            padding: 15px;
            background: #222;
            border-radius: 4px;
         }
         .detail img {
            width: 100px;
         }
         
    </style>

</head>
<body>
<h1> Movie Finder </h1>
<input type="text" id="search" placeholder="Search Movies"/>
<button onclick="search()"> Search </button>

<div id="results" class="grid">

</div>
<div id="detail" class="detail hidden">
</div>


</body>

<script>
const API_KEY='';

async function search(){
    const query=document.getElementById('search').value.trim()
    if(!query) return;

    const res = await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${encodeURIComponent(query)}`);
// change 
    const data =res.json(); 

    // {
    //     "name": 11,

    // }

    const results=document.getElementById('results')
    const detail=document.getElementById('detail')

    detail.classList.add('hidden');

    if(data.Response === 'True') {
        results.innerHTML= data.Search.map(
            movie => ` <div class="card" onclick="showDetail('${movie.imdbID}')">
                <img src="${movie.Poster !=='N/A'?movie.Poster:''}"/>
                <h3>${movie.Title} </h3>
                <p> ${movie.Year}</p>
            `);
    }
    else{
        results.innerHTML=`<p>${data.error}</p>`
    }
}

async function showDetail(id) {
const res = await fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&i=${id}`);
const poster=movie.Poster!== 'N/A'?movie.Poster:'';
document.getElementById('detail').innerHTML=`
<img src="${poster}"/>
<h2> ${movie.Title} </h2>
<p> <strong> Genre:</strong> ${movie.Genre} </p>
`;
//director plot imdbid 
document.getElementById('detail').classList.remove('hidden');
document.getElementById('results').classList.add('hidden');
}

document.getElementById('search').addEventListener('keypress',(e)=>{
    if(e.key=== 'Enter') search();
})

</script>
</html>